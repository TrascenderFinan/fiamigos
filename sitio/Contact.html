<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Contacto</title>

  <!-- CSS -->
  <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css" />
  <link href="https://fonts.googleapis.com/css?family=Poppins:400,700&display=swap" rel="stylesheet" />
  <link href="Css/services.css" rel="stylesheet" />
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/all.min.css" />
  <link rel="icon" type="image/png" href="Img/logofiamigos2.png" />
</head>

<body>
  <div class="wrapper">
    <div class="hero_area sub_pages">
      <header class="header_section">
        <div class="navbar-container">
          <div class="container">
            <nav class="navbar navbar-expand-md navbar-dark">
              <a class="navbar-brand" href="index.html">
                <img src="Img/logofiamigos2.jpg" alt="Logo de la empresa" class="logo_empresa" />
              </a>
              <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarSupportedContent"
                aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
                <img src="Img/menu.png" alt="Menú desplegable" />
              </button>
              <div class="collapse navbar-collapse" id="navbarSupportedContent">
                <ul class="navbar-nav ml-auto">
                  <li class="nav-item active"><a class="nav-link" href="index.html">Inicio <span class="sr-only">(current)</span></a></li>
                  <li class="nav-item"><a class="nav-link" href="Sobrenosotros.html">Nosotros</a></li>
                  <li class="nav-item dropdown">
                    <a class="nav-link" href="service.html" id="navbarDropdown" role="button" aria-haspopup="true" aria-expanded="false">Servicios</a>
                    <ul class="dropdown-menu" aria-labelledby="navbarDropdown">
                      <li><a class="dropdown-item" href="creditopersonal.html">Créditos Personales</a></li>
                      <li><a class="dropdown-item" href="creditolibranza.html">Créditos por Libranza</a></li>
                    </ul>
                  </li>
                  <li class="nav-item"><a class="nav-link" href="mapa.html">Oficinas</a></li>
                  <li class="nav-item"><a class="nav-link" href="Preguntas.html">Preguntas</a></li>
                  <li class="nav-item"><a class="nav-link" href="Contact.html">Contacto</a></li>
                </ul>
              </div>
            </nav>
          </div>
        </div>
      </header>
    </div>

    <section class="contact_section bg-light py-5">
      <div class="container">
        <div class="row justify-content-between align-items-center">
          <div class="col-md-5">
            <p class="text-justify mb-5">Contacta con nosotros hoy mismo para obtener más información.</p>
          </div>
          <div class="col-md-7 mb-5">
            <div class="card p-4">
              <!-- FORMULARIO -->
              <form id="contactForm" novalidate>
                <div class="form-group">
                  <label for="name">Nombre</label>
                  <input type="text" class="form-control" id="name" name="name" placeholder="Tu Nombre" required />
                </div>
                <div class="form-group">
                  <label for="email">Correo Electrónico</label>
                  <input type="email" class="form-control" id="email" name="email" placeholder="Tu Correo Electrónico" required />
                </div>
                <div class="form-group">
                  <label for="subject">Asunto</label>
                  <input type="text" class="form-control" id="subject" name="subject" placeholder="Asunto" required />
                </div>
                <div class="form-group">
                  <label for="message">Mensaje</label>
                  <textarea class="form-control" id="message" name="message" rows="5" placeholder="Tu Mensaje" required></textarea>
                </div>

                <!-- Mensajes -->
                <div id="formAlert" class="alert d-none" role="alert"></div>

                <button id="sendBtn" type="submit" class="btn btn-primary">Enviar</button>
              </form>
              <!-- /FORMULARIO -->
            </div>
          </div>
        </div>
      </div>
    </section>
  </div>

  <footer class="footer_section">
    <div class="container">
      <div class="row">
        <div class="col-md-6"><p>&copy; 2025 Todos los derechos reservados por Fi-amigos</p></div>
        <div class="col-md-6">
          <div class="footer_contact">
            <ul>
              <li><i class="fa fa-envelope"></i>contacto@fiamigos.com</li>
              <li><i class="fa fa-phone"></i>018000417878</li>
            </ul>
          </div>
          <div class="footer_social">
            <ul>
              <li><a href="https://www.facebook.com/profile.php?id=61572142047156&locale=es_LA"><i class="fab fa-facebook-f"></i>Facebook</a></li>
              <li><a href="https://www.instagram.com/fiamigos?igsh=MWFmZm9jZXhzYmpqaw=="><i class="fab fa-instagram"></i>Instagram</a></li>
            </ul>
          </div>
        </div>
      </div>
    </div>
  </footer>

  <!-- JS base -->
  <script>
    // Menú desplegable
    const dropdown = document.querySelector('.nav-item.dropdown');
    const dropdownMenu = document.querySelector('.dropdown-menu');
    if (dropdown && dropdownMenu) {
      dropdown.addEventListener('mouseover', () => (dropdownMenu.style.display = 'block'));
      dropdown.addEventListener('mouseout', () => (dropdownMenu.style.display = 'none'));
    }
  </script>
  <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
  <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.bundle.min.js"></script>
  <script src="Js/credito.js"></script>
  <script src="Js/carrusel.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>

  <!-- SCRIPT DE ENVÍO -->
  <script>
    // Endpoint de API Gateway (POST /contact)
    const API_URL = 'https://nxcd3c2148.execute-api.us-east-1.amazonaws.com/contact';

    // Referencias
    const f = document.getElementById('contactForm');
    const alertBox = document.getElementById('formAlert');
    const btn = document.getElementById('sendBtn');

    // Helper para alertas
    function show(type, msg) {
      alertBox.className = `alert alert-${type}`;
      alertBox.textContent = msg;
      alertBox.classList.remove('d-none');
    }

    // Asegura que el script se enganche (debug útil)
    console.log('Formulario de contacto listo ✅', !!f);

    // Envío del formulario
    f.addEventListener('submit', async (e) => {
      e.preventDefault(); // evita recarga

      // Validación nativa
      if (!f.checkValidity()) {
        f.reportValidity();
        return;
      }

      // Deshabilitar botón
      btn.disabled = true;
      btn.textContent = 'Enviando...';

      // Cuerpo de la petición
      const body = {
        name: document.getElementById('name').value.trim(),
        email: document.getElementById('email').value.trim(),
        subject: document.getElementById('subject').value.trim(),
        message: document.getElementById('message').value.trim()
      };

      try {
        const res = await fetch(API_URL, {
          method: 'POST',
          headers: { 'Content-Type': 'application/json' },
          body: JSON.stringify(body)
        });

        if (!res.ok) {
          const txt = await res.text().catch(() => '');
          throw new Error(`HTTP ${res.status} ${txt}`);
        }

        show('success', '¡Mensaje enviado! Te contactaremos pronto.');
        f.reset();
      } catch (err) {
        console.error('Error al enviar:', err);
        show('danger', 'No fue posible enviar el mensaje. Intenta más tarde.');
      } finally {
        btn.disabled = false;
        btn.textContent = 'Enviar';
      }
    });
  </script>
</body>
</html>


